{"componentChunkName":"component---src-templates-post-template-tsx","path":"/fcm-message-delivery-flow/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<blockquote>\n<p>ì‚¬ìš©ìì˜ ë””ë°”ì´ìŠ¤ì— â€œëµ!â€í•˜ê³  ì•Œë¦¼ì´ ë„ì°©í•˜ê¸°ê¹Œì§€, ê·¸ ì´ë©´ì—ì„œëŠ” ì–´ë–¤ ì¼ì´ ë²Œì–´ì§€ê³  ìˆì„ê¹Œ?</p>\n</blockquote>\n<hr>\n<h2>ğŸ§© ì„œë¡ : ê·¸ë‚ ì˜ í‘¸ì‹œ ì•Œë¦¼</h2>\n<p>2025ë…„ ì–´ëŠ ë‚ , íšŒì‚¬ ì„œë¹„ìŠ¤ì—ì„œ ì´ë²¤íŠ¸ ì•Œë¦¼ì„ í‘¸ì‹œë¡œ ë‚ ë¦¬ê¸°ë¡œ ê²°ì •í–ˆë‹¤.<br>\nìš°ë¦¬ ë°±ì—”ë“œ íŒ€ì˜ ì—­í• ì€ ë‹¨ìˆœí–ˆë‹¤.</p>\n<ul>\n<li>â€œì‚¬ìš©ìì—ê²Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë¼!â€</li>\n</ul>\n<p>í•˜ì§€ë§Œ, ë©”ì‹œì§€ëŠ” â€˜ì–´ë–»ê²Œâ€™ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬ë˜ëŠ” ê±¸ê¹Œ?<br>\nFirebase Cloud Messaging(ì´í•˜ FCM)ì„ ì‚¬ìš©í•˜ê³  ìˆì—ˆì§€ë§Œ,<br>\nê·¸ íë¦„ì„ ì œëŒ€ë¡œ ì´í•´í•œ ê±´ ì´ë²ˆì´ ì²˜ìŒì´ì—ˆë‹¤.</p>\n<hr>\n<h2>ğŸŒ 1. ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš”</h2>\n<div class=\"gatsby-highlight\" data-language=\"plaintext\"><pre class=\"language-plaintext\"><code class=\"language-plaintext\">[ë‚´ ì„œë²„] â”€â”€â–¶ [FCM Server] â”€â”€â–¶ [ì‚¬ìš©ì ë””ë°”ì´ìŠ¤ (ì›¹/ì•±)] â”€â”€â–¶ [ì•Œë¦¼ í‘œì‹œ]\n                 â–²                          â–²\n                 â”‚                          â”‚\n           ì¸ì¦/í† í° ê´€ë¦¬               Service Worker</code></pre></div>\n<hr>\n<h2>2ï¸âƒ£ Step-by-Step íë¦„: ì•Œë¦¼ì´ ë§Œë“¤ì–´ì§€ê³  ì „ë‹¬ë˜ê¸°ê¹Œì§€</h2>\n<h3>1ë‹¨ê³„: í´ë¼ì´ì–¸íŠ¸ê°€ Firebaseì™€ ì—°ê²°í•˜ê³  ë“±ë¡ í† í°ì„ ë°œê¸‰ë°›ë‹¤</h3>\n<p>ì›¹ ë˜ëŠ” ì•±ì—ì„œ ë‹¤ìŒ ê³¼ì •ì„ ê±°ì¹œë‹¤:</p>\n<ol>\n<li>Firebase SDK ì´ˆê¸°í™” (firebase-messaging.js)</li>\n<li>ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ ê¶Œí•œ ìš”ì²­</li>\n<li>ê¶Œí•œ í—ˆìš© ì‹œ, FCMì€ â€œregistration tokenâ€ì„ ë°œê¸‰</li>\n<li>ì´ í† í°ì„ <strong>ë‚´ ì„œë²„ì— ì €ì¥</strong>í•´ë‘ </li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Web ì˜ˆì‹œ</span>\n<span class=\"token keyword\">const</span> messaging <span class=\"token operator\">=</span> firebase<span class=\"token punctuation\">.</span><span class=\"token function\">messaging</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> token <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> messaging<span class=\"token punctuation\">.</span><span class=\"token function\">getToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">vapidKey</span><span class=\"token operator\">:</span> <span class=\"token string\">'YOUR_PUBLIC_VAPID_KEY'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ğŸ‘‰ ì´ <code class=\"language-text\">token</code>ì€ ì‚¬ìš©ìì˜ ë””ë°”ì´ìŠ¤ë¥¼ ì‹ë³„í•˜ëŠ” ìœ ì¼í•œ í‚¤ë‹¤.</p>\n<hr>\n<h3>2ë‹¨ê³„: ì„œë²„ì—ì„œ ë©”ì‹œì§€ë¥¼ ë§Œë“¤ê³  FCMì— ì „ë‹¬</h3>\n<p>ì„œë²„ ì¸¡ì—ì„œëŠ” REST APIë¥¼ í†µí•´ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"http\"><pre class=\"language-http\"><code class=\"language-http\">POST https://fcm.googleapis.com/v1/projects/{project-id}/messages:send\n<span class=\"token header\"><span class=\"token header-name keyword\">Authorization</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Bearer {access_token}</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">application/json</span></span></code></pre></div>\n<p>ìš”ì²­ ë°”ë”” ì˜ˆì‹œ:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"message\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"token\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"user_device_token\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"notification\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ìƒˆ ì†Œì‹!\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"body\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ë‹¹ì‹ ì„ ìœ„í•œ ìƒˆë¡œìš´ ì´ë²¤íŠ¸ê°€ ë„ì°©í–ˆì–´ìš”.\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"data\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/event/detail\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>âœ… <code class=\"language-text\">notification</code>ì€ ë¸Œë¼ìš°ì €ì—ì„œ ìë™ ì•Œë¦¼ ìƒì„±<br>\nâœ… <code class=\"language-text\">data</code>ëŠ” ê°œë°œìê°€ ìˆ˜ë™ ì²˜ë¦¬ ê°€ëŠ¥</p>\n<hr>\n<h3>3ë‹¨ê³„: Firebaseê°€ ì‚¬ìš©ì ë””ë°”ì´ìŠ¤ë¡œ í‘¸ì‹œ ì „ë‹¬</h3>\n<ul>\n<li>FirebaseëŠ” ë“±ë¡ëœ <code class=\"language-text\">token</code>ì„ í†µí•´ ë””ë°”ì´ìŠ¤ì™€ ì—°ê²°</li>\n<li>ë©”ì‹œì§€ë¥¼ Web Push í”„ë¡œí† ì½œ ë˜ëŠ” Android/iOS ì „ìš© ì±„ë„ì„ í†µí•´ ì „ì†¡</li>\n</ul>\n<p>ğŸ§  ì´ë•Œê¹Œì§€ì˜ íë¦„:</p>\n<div class=\"gatsby-highlight\" data-language=\"plaintext\"><pre class=\"language-plaintext\"><code class=\"language-plaintext\">[Server] â†’ [FCM] â†’ [Push Service] â†’ [ì‚¬ìš©ì ë¸Œë¼ìš°ì €]</code></pre></div>\n<hr>\n<h3>4ë‹¨ê³„: ë¸Œë¼ìš°ì € ë°±ê·¸ë¼ìš´ë“œì—ì„œ Service Workerê°€ ë©”ì‹œì§€ ìˆ˜ì‹ </h3>\n<p>ë¸Œë¼ìš°ì €ê°€ êº¼ì§€ì§€ ì•Šê³  ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‚´ì•„ìˆë‹¤ë©´,<br>\n<code class=\"language-text\">firebase-messaging-sw.js</code> ë˜ëŠ” custom <code class=\"language-text\">service-worker.js</code>ê°€ ë©”ì‹œì§€ë¥¼ ë°›ëŠ”ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// firebase-messaging-sw.js</span>\nself<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'push'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> payload <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  self<span class=\"token punctuation\">.</span>registration<span class=\"token punctuation\">.</span><span class=\"token function\">showNotification</span><span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">.</span>notification<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> payload<span class=\"token punctuation\">.</span>notification<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> <span class=\"token string\">'/icon.png'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> payload<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ğŸ§© ì•Œë¦¼ í‘œì‹œ í›„ í´ë¦­ ì‹œ, íŠ¹ì • URLë¡œ ì´ë™í•˜ê±°ë‚˜ ì•¡ì…˜ ì²˜ë¦¬ ê°€ëŠ¥</p>\n<hr>\n<h2>ğŸ¯ íë¦„ ìš”ì•½ ë‹¤ì´ì–´ê·¸ë¨</h2>\n<div class=\"gatsby-highlight\" data-language=\"plaintext\"><pre class=\"language-plaintext\"><code class=\"language-plaintext\">(1) í´ë¼ì´ì–¸íŠ¸ê°€ FCM í† í° ë°œê¸‰\n        â†“\n(2) ì„œë²„ê°€ ë©”ì‹œì§€ë¥¼ ìƒì„±\n        â†“\n(3) FCM ì„œë²„ë¡œ ë©”ì‹œì§€ ì „ì†¡\n        â†“\n(4) FCMì´ ëŒ€ìƒ ë””ë°”ì´ìŠ¤ë¡œ Push\n        â†“\n(5) Service Workerê°€ ìˆ˜ì‹  í›„ ì•Œë¦¼ í‘œì‹œ\n        â†“\n(6) ì‚¬ìš©ìê°€ ì•Œë¦¼ í´ë¦­ (â†’ ì›¹ í˜ì´ì§€ ì´ë™ ë“±)</code></pre></div>\n<hr>\n<h2>â—ï¸ì£¼ì˜í•  ì </h2>\n<ul>\n<li><strong>ì•Œë¦¼ ê¶Œí•œì€ ìˆ˜ë™ í—ˆìš©ì´ í•„ìš”</strong> (íŠ¹íˆ ë¸Œë¼ìš°ì €ì—ì„œ)</li>\n<li><strong>ë¸Œë¼ìš°ì €ê°€ êº¼ì ¸ ìˆìœ¼ë©´ ìˆ˜ì‹  ë¶ˆê°€</strong>\n<ul>\n<li>í¬ë¡¬ì˜ ê²½ìš° ë¸Œë¼ìš°ì € í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë˜ë©´ í‘¸ì‹œ ìˆ˜ì‹  ì‹¤íŒ¨</li>\n<li>ë°˜ë©´, Edge ë˜ëŠ” PWA ì„¤ì¹˜ ì‹œ OS ë°±ê·¸ë¼ìš´ë“œ ìœ ì§€ë¡œ ìˆ˜ì‹  ê°€ëŠ¥</li>\n</ul>\n</li>\n<li><strong>token ìœ íš¨ì„± ê´€ë¦¬</strong> ì¤‘ìš”\n<ul>\n<li>ì˜¤ë˜ëœ tokenì€ ìœ íš¨í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì£¼ê¸°ì  ì¬ë°œê¸‰ í•„ìš”</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2>ğŸ” ì‹¤ì œ í™œìš© íŒ</h2>\n<ul>\n<li>ëª¨ë°”ì¼ ì›¹ ì•±ì´ë¼ë©´ PWAë¡œ ì„¤ì¹˜ ìœ ë„ â†’ í‘¸ì‹œ ìˆ˜ì‹  ì•ˆì •ì„± ì¦ê°€</li>\n<li>ì‚¬ìš©ì ê·¸ë£¹ì— ë”°ë¼ topic ë©”ì‹œì§€ ì‚¬ìš© ê°€ëŠ¥ (<code class=\"language-text\">/topics/news</code>)</li>\n<li>ì‚¬ìš©ì ì•¡ì…˜ì— ë”°ë¼ ì•Œë¦¼ ì „ì†¡: ì˜ˆì•½, ë‰´ìŠ¤, ëŒ“ê¸€, ì¢‹ì•„ìš” ë“±</li>\n</ul>\n<hr>\n<h2>ğŸ§  ë§ˆë¬´ë¦¬í•˜ë©°</h2>\n<p>â€œê·¸ëƒ¥ ì•Œë¦¼ ë³´ë‚´ëŠ” ê±°ì–ì•„.â€<br>\nê·¸ë ‡ê²Œ ìƒê°í–ˆì§€ë§Œ, ì‹¤ì œë¡œëŠ” ê½¤ ì„¬ì„¸í•œ íë¦„ê³¼ ê´€ë¦¬ê°€ í•„ìš”í•œ ì˜ì—­ì´ì—ˆë‹¤.</p>\n<p>Firebase ë•ë¶„ì— í‘¸ì‹œëŠ” ì‰¬ì›Œì¡Œì§€ë§Œ,<br>\n<strong>ì–´ë””ì„œ ëˆ„ê°€ ì–´ë–¤ íë¦„ìœ¼ë¡œ ë°›ëŠ”ì§€ë¥¼ íŒŒì•…</strong>í•´ì•¼<br>\nì‹¤ì œë¡œ <strong>ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•˜ëŠ” ì•Œë¦¼</strong>ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p>\n<hr>\n<blockquote>\n<p>í‘¸ì‹œëŠ” ê¸°ìˆ ì´ ì•„ë‹ˆë¼ ì—°ê²°ì´ë‹¤.<br>\nì•Œë¦¼ í•˜ë‚˜ì—ë„ ìˆ˜ë§ì€ ê¸°ìˆ ìë“¤ì˜ ê³ ë¯¼ê³¼ íë¦„ì´ ìˆ¨ì–´ ìˆë‹¤.</p>\n</blockquote>","frontmatter":{"title":"ğŸ”” FCM ë©”ì‹œì§€ê°€ ì‚¬ìš©ìì—ê²Œ ë„ë‹¬í•˜ê¸°ê¹Œì§€","summary":"Firebase Cloud Messaging(Firebase Server â†’ ë¸Œë¼ìš°ì €/ë””ë°”ì´ìŠ¤ê¹Œì§€)ì˜ ì‘ë™","date":"2025.07.17.","categories":["Web"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACVUlEQVR42o1Sy27aUBBl3z/prh+QT+iiq35Bd/2CdpEo6qZqWjWLFBIimgbSR6gD5lU5Dn7iOEmLzcMhMUmK8QsEkQqoBNuA6PgSReqiUqWjuUdz7zkzVzMBRh/9J1jTZU2PszzWcOaZgH80bwA0wj+VhkNc9PbrfULtkVcDBukDNLLk7AlrjSEyhksjOwqIMZ5bC60p3RwWVUMqiWWlVDjV89oQVTa9bNlI8nJaPE1w8jfFZq0p2+ipwoagar61PkpV29t06VLvW+JjS15WzSF0wehOgLUmGVGhGU44Lh5QbPr4fL/hUFfd4caCiz8oaRR+5qyEY8kcWaldVmXitMKkOIm4HPhizp5ifBlL5VL7TCJLPA/FHy5G1+LZGXZ/Jt1L408eLcXXd7DZbGa3O61Ov1JvPgvHYodnrO76ldOiQjEcf/QDKmNCNV65zlXNbu2pU1mQ6wexE/vddty2W+1Ot9O9Vs7r3d8DStHIn0MkPlHT+QJ5VMJJPiM1hPaU1j2q6TJan7FnuNR8E/4YjH5deh18ufZ+9cPu2wwZ5RW/MqXdcNZ4T9KDGXFPMnhrDBk0NoduerQ2hEe4rIcyhxFS3sqXNonvQaKYU39xBrRtuNladxWjFkOfX+3kgMO0kH4EAMIaXrJsr3wiXkQSy5vY0vqXXfGCaqBRwdLgZTuUFbeoMrgmZJMzvTvxXF+wx7laJ0IWY3wtxtUoaMdwYf4BuAYG/yy0JkJ7AgtDa7Bwozsx4lDfEVoTcAHc5v0NQ3dghjD/7Yj+W+zrNf8Nir71fLf/AIQseeJPyulKAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/d7b75b2a7160bc71ed8bea4108bc609b/4d776/FcmAlert.png","srcSet":"/static/d7b75b2a7160bc71ed8bea4108bc609b/4a410/FcmAlert.png 384w,\n/static/d7b75b2a7160bc71ed8bea4108bc609b/f5189/FcmAlert.png 768w,\n/static/d7b75b2a7160bc71ed8bea4108bc609b/4d776/FcmAlert.png 1536w","sizes":"(min-width: 1536px) 1536px, 100vw"},"sources":[{"srcSet":"/static/d7b75b2a7160bc71ed8bea4108bc609b/b642b/FcmAlert.webp 384w,\n/static/d7b75b2a7160bc71ed8bea4108bc609b/c9564/FcmAlert.webp 768w,\n/static/d7b75b2a7160bc71ed8bea4108bc609b/18b4b/FcmAlert.webp 1536w","type":"image/webp","sizes":"(min-width: 1536px) 1536px, 100vw"}]},"width":1536,"height":1024}},"publicURL":"/static/d7b75b2a7160bc71ed8bea4108bc609b/FcmAlert.png"}}}}]}},"pageContext":{"slug":"/fcm-message-delivery-flow/"}},"staticQueryHashes":[],"slicesMap":{}}