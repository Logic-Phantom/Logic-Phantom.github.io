{"componentChunkName":"component---src-templates-post-template-tsx","path":"/javascript_async_closure/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>자바스크립트 비동기 처리와 클로저 완전 정복</h1>\n<h2>1. 비동기 처리의 배경</h2>\n<p>자바스크립트는 <strong>싱글 스레드 언어</strong>로, 한 번에 하나의 작업만 실행할 수\n있습니다.<br>\n하지만 네트워크 요청, 파일 읽기, 타이머 같은 작업을 모두 동기적으로\n처리하면 브라우저가 멈추게 됩니다.<br>\n이를 해결하기 위해 <strong>비동기 처리(Asynchronous)</strong> 개념이 도입되었습니다.</p>\n<hr>\n<h2>2. Promise</h2>\n<h3>기본 개념</h3>\n<p><code class=\"language-text\">Promise</code>는 비동기 작업의 완료/실패를 나타내는 객체입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> promise <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"완료!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// reject(\"에러 발생\");</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\npromise\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 완료!</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">finally</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"항상 실행\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>상태</h3>\n<ul>\n<li><code class=\"language-text\">pending</code>: 대기 중</li>\n<li><code class=\"language-text\">fulfilled</code>: 성공</li>\n<li><code class=\"language-text\">rejected</code>: 실패</li>\n</ul>\n<h3>실무 예제</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> xhr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    xhr<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"GET\"</span><span class=\"token punctuation\">,</span> url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    xhr<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>xhr<span class=\"token punctuation\">.</span>responseText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    xhr<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"에러 발생\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    xhr<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/data\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h2>3. async / await</h2>\n<h3>기본 개념</h3>\n<p><code class=\"language-text\">async/await</code>는 Promise 기반 코드를 <strong>동기식처럼 작성</strong>할 수 있게\n해줍니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"에러 발생\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">getUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>특징</h3>\n<ul>\n<li><code class=\"language-text\">async</code> 함수는 항상 Promise 반환</li>\n<li><code class=\"language-text\">await</code>는 Promise가 처리될 때까지 기다림</li>\n<li><code class=\"language-text\">try...catch</code>로 에러 처리 가능</li>\n</ul>\n<h3>실무 예제</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getPosts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> urls <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"/api/post/1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/api/post/2\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> results <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> url <span class=\"token keyword\">of</span> urls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    results<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> results<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">getPosts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">posts</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>posts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>⚡ <strong>Tip</strong>: 독립적인 요청은 <code class=\"language-text\">Promise.all</code>을 활용하면 성능 향상</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getPostsParallel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> urls <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"/api/post/1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/api/post/2\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> results <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>urls<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url</span> <span class=\"token operator\">=></span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r</span><span class=\"token operator\">=></span>r<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> results<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<h2>4. 클로저 (Closure)</h2>\n<h3>기본 개념</h3>\n<p>클로저는 <strong>함수가 선언될 당시의 스코프(환경)를 기억하는 함수</strong>입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    count<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> count<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> counter <span class=\"token operator\">=</span> <span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2</span></code></pre></div>\n<h3>활용 예시</h3>\n<ul>\n<li><strong>데이터 은닉</strong>: 외부에서 직접 접근 불가능한 private 변수 생성</li>\n<li><strong>상태 유지</strong>: 함수 호출 간 데이터 보존</li>\n<li><strong>콜백/이벤트 핸들러</strong>: 상태를 기억하는 핸들러 작성</li>\n</ul>\n<h3>실무 예제</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">createUserManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> users <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">add</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">user</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span> users<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">list</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> users<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> manager <span class=\"token operator\">=</span> <span class=\"token function\">createUserManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmanager<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Alice\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmanager<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Bob\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>manager<span class=\"token punctuation\">.</span><span class=\"token function\">list</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [\"Alice\", \"Bob\"]</span></code></pre></div>\n<hr>\n<h2>5. 고급 활용 (전문가용)</h2>\n<h3>5.1. Promise 고급 패턴</h3>\n<ul>\n<li><strong>Promise.all</strong>: 모든 Promise 완료 대기</li>\n<li><strong>Promise.race</strong>: 가장 빠른 Promise 결과 반환</li>\n<li><strong>Promise.allSettled</strong>: 모든 결과(성공/실패)를 배열로 반환</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">Promise<span class=\"token punctuation\">.</span><span class=\"token function\">race</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n  <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/slow\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/fast\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"가장 빠른 응답\"</span><span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>5.2. async/await 최적화</h3>\n<ul>\n<li>병렬 처리 시 <code class=\"language-text\">Promise.all</code> 적극 활용</li>\n<li>반복문 안에서는 <code class=\"language-text\">for...of</code> + await보다 <strong>map + Promise.all</strong> 선호</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">loadData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ids</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>ids<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span> <span class=\"token operator\">=></span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/api/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r</span><span class=\"token operator\">=></span>r<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>5.3. 클로저와 메모리 관리</h3>\n<p>클로저는 <strong>참조를 유지</strong>하기 때문에 메모리 누수(leak)가 발생할 수 있음.<br>\n→ 불필요한 참조는 <code class=\"language-text\">null</code>로 해제하거나, 클로저 사용 범위를 최소화해야 함.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">heavy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> bigData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>bigData<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> h <span class=\"token operator\">=</span> <span class=\"token function\">heavy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// bigData는 해제되지 않음 → 메모리 사용 주의</span></code></pre></div>\n<hr>\n<h2>6. 정리</h2>\n<ul>\n<li><strong>Promise</strong>: 비동기 작업의 성공/실패를 다루는 객체</li>\n<li><strong>async/await</strong>: Promise를 더 읽기 쉽게 작성하는 문법</li>\n<li><strong>클로저</strong>: 스코프를 기억하는 함수, 상태 유지 및 데이터 은닉 가능</li>\n</ul>\n<p>👉 초급 단계에서는 콜백 → Promise → async/await 순으로 이해<br>\n👉 심화 단계에서는 병렬 처리 최적화, 클로저 메모리 관리까지 고려해야\n합니다.</p>\n<hr>\n<h1>마무리</h1>\n<p>자바스크립트에서 <strong>비동기 처리</strong>와 <strong>클로저</strong>는 단순한 문법 지식이\n아니라,<br>\n실무에서 성능, 유지보수, 보안까지 영향을 미치는 핵심 개념입니다.<br>\n이 두 가지를 제대로 이해하면 <strong>안정적이고 효율적인 코드</strong>를 작성할 수\n있습니다.</p>","frontmatter":{"title":"자바스크립트 비동기 처리와 클로저 완전 정복","summary":"자바스크립트 두번째 이야기","date":"2025.09.11.","categories":["Web"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEjUlEQVR42kWU+09bZRjH+4P/gJeocWqMlxijybIQx2JEzfxl2TINEhe5CZbRMhkbUwZMroEN5F4odJQNHMJgQJH1Ar3QctpzTtvTnnN6oVdKKZTeoECBjULldnwriSbvD+/t81y+z/O+NNK3dzJw7y6xvIfMbclMK4rZsNQQ5Gu9AmxJpPdJjSGpMQg7N8AFcO0/hEYu7xFg5t+zhg9cWxQPdt/6fayya6r6vqS+V17OFhY1jVdxpopbJvpExvltyhw6+B8GpDHwN7DHGdeD0TmGtQzAjf3QAz7ZMaKp7BK3DaHNA3DLIAJ22KPY4LTdHNo3+GNEHF7e1bi3Z6xrNVxpLVfGHtE29iurOGLuBFHXq6jommoeQGp7puv7FE0DqhqujDWs1rifAQSANNS1Xc2ZLGriNT5SNPyhaOibrmQLQZClbXzWENo6iPTwSe4EDmyBXEAid1j8Xxt5dQ/lmoVnNNwbRd17U+ZtARERGTb5RESIr07iPiCb0rYuM4XklvCE2vOnxCIm/NPmVYkhCE7FhiDIlIYt7iHqcTvRacG5VoJrwzsRbNK0QumXdjjj+Ajkcm1SKTe5ryTknfmmsounm4tQxsA+kA0oT9N6ojOCO2PclKAmTcVLf9L9nUlVhfupKdL/RuK1lAKOJUzdfyScmRgtuFn30mkmPBcBaumXonFY7Y4SyrtOiE4t5G1b8paQbCvWrHQ8Rx3h1FtcoJ9tg5oUycJOBFOI6IWtSsfmSXXiMOyKzuM1EWN2AGPYFAxBf6aTaBEb1oYmFE8xL+zYAC0Ay2Uhw3TEAcO4HSwJb9xtHEbm456fm7OXtUyNkCkbztKrWnufqJobOnXOVWPwQOc7fgpZlUK+HVWIMLfWe0j690Gd4jDujYm1ZhEESdWIUg+jOCTU2iBYrxP/BVtD6EJMqxk2qyrMUL9H2+tGbxg1LMi8QPgP/q2ze5dE2tZMNxa0tx1IESEpIJA22L7u1stkZECL9mwRVyjXT1um7F1r1rH76qH9BwtSDs/vAtloKld0Dqs8cqezW+nXC+mPu9M8RLnUtBGwabSQyG9gBi0MKsikvIxjFyNqZSxp8nYd2RBpIgPHccGc2F0vSi8uzevuuHa9MEsnrwbRYiqI1dJ9+7eK+tqs3s5csyyX8uTG7AwHxPCpc2QqCRmk4rBDXfag7fvejsyxhxnN9zIk4yW65UMxbHznLIP2Pv3VTwtpr9FTc65SXvqRM1UvBtlJEcJBBA5ouqUYoleZyWGjgWe1CFjs6o+/Zn6Z0aCZ30rJZ9PeTP7oQsULH9Df+5wpH++cnWm3Kkcj5mmUsAPN4r2dUTrwWXr7Fz+yE5Lr3koqvsxs//D8L+Al8tCFCzmsbzPzL6fREy/llpRVWWdaFvEhWGNCneukL0bTLe4kpda//VXxu+dLXk7IO3Xu51Pn8k9fKhPolp0bx6T/WCWuWcOzNk25YZK+gV8RC+pUniNTMBZ/GKDW8tkw+GskxpDEuCLCfY/lTvns6uzKAebZmV05TEq99/qZzMSLjLMXGS9+kp6cz7GFj056+x/vmE4mFyRrigAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/a2f0854f144f881dd78a3d707c426548/34104/jsRule2.png","srcSet":"/static/a2f0854f144f881dd78a3d707c426548/5ce94/jsRule2.png 256w,\n/static/a2f0854f144f881dd78a3d707c426548/8a20a/jsRule2.png 512w,\n/static/a2f0854f144f881dd78a3d707c426548/34104/jsRule2.png 1024w","sizes":"(min-width: 1024px) 1024px, 100vw"},"sources":[{"srcSet":"/static/a2f0854f144f881dd78a3d707c426548/99d55/jsRule2.webp 256w,\n/static/a2f0854f144f881dd78a3d707c426548/3591c/jsRule2.webp 512w,\n/static/a2f0854f144f881dd78a3d707c426548/e306d/jsRule2.webp 1024w","type":"image/webp","sizes":"(min-width: 1024px) 1024px, 100vw"}]},"width":1024,"height":1024}},"publicURL":"/static/a2f0854f144f881dd78a3d707c426548/jsRule2.png"}}}}]}},"pageContext":{"slug":"/javascript_async_closure/"}},"staticQueryHashes":[],"slicesMap":{}}