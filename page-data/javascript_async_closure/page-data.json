{"componentChunkName":"component---src-templates-post-template-tsx","path":"/javascript_async_closure/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¹„ë™ê¸° ì²˜ë¦¬ì™€ í´ë¡œì € ì™„ì „ ì •ë³µ</h1>\n<h2>1. ë¹„ë™ê¸° ì²˜ë¦¬ì˜ ë°°ê²½</h2>\n<p>ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” <strong>ì‹±ê¸€ ìŠ¤ë ˆë“œ ì–¸ì–´</strong>ë¡œ, í•œ ë²ˆì— í•˜ë‚˜ì˜ ì‘ì—…ë§Œ ì‹¤í–‰í•  ìˆ˜\nìˆìŠµë‹ˆë‹¤.<br>\ní•˜ì§€ë§Œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­, íŒŒì¼ ì½ê¸°, íƒ€ì´ë¨¸ ê°™ì€ ì‘ì—…ì„ ëª¨ë‘ ë™ê¸°ì ìœ¼ë¡œ\nì²˜ë¦¬í•˜ë©´ ë¸Œë¼ìš°ì €ê°€ ë©ˆì¶”ê²Œ ë©ë‹ˆë‹¤.<br>\nì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ <strong>ë¹„ë™ê¸° ì²˜ë¦¬(Asynchronous)</strong> ê°œë…ì´ ë„ì…ë˜ì—ˆìŠµë‹ˆë‹¤.</p>\n<hr>\n<h2>2. Promise</h2>\n<h3>ê¸°ë³¸ ê°œë…</h3>\n<p><code class=\"language-text\">Promise</code>ëŠ” ë¹„ë™ê¸° ì‘ì—…ì˜ ì™„ë£Œ/ì‹¤íŒ¨ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ì…ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> promise <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ì™„ë£Œ!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// reject(\"ì—ëŸ¬ ë°œìƒ\");</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\npromise\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// ì™„ë£Œ!</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">finally</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"í•­ìƒ ì‹¤í–‰\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>ìƒíƒœ</h3>\n<ul>\n<li><code class=\"language-text\">pending</code>: ëŒ€ê¸° ì¤‘</li>\n<li><code class=\"language-text\">fulfilled</code>: ì„±ê³µ</li>\n<li><code class=\"language-text\">rejected</code>: ì‹¤íŒ¨</li>\n</ul>\n<h3>ì‹¤ë¬´ ì˜ˆì œ</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> xhr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    xhr<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"GET\"</span><span class=\"token punctuation\">,</span> url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    xhr<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>xhr<span class=\"token punctuation\">.</span>responseText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    xhr<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ì—ëŸ¬ ë°œìƒ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    xhr<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/data\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h2>3. async / await</h2>\n<h3>ê¸°ë³¸ ê°œë…</h3>\n<p><code class=\"language-text\">async/await</code>ëŠ” Promise ê¸°ë°˜ ì½”ë“œë¥¼ <strong>ë™ê¸°ì‹ì²˜ëŸ¼ ì‘ì„±</strong>í•  ìˆ˜ ìˆê²Œ\ní•´ì¤ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/user\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ì—ëŸ¬ ë°œìƒ\"</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">getUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>íŠ¹ì§•</h3>\n<ul>\n<li><code class=\"language-text\">async</code> í•¨ìˆ˜ëŠ” í•­ìƒ Promise ë°˜í™˜</li>\n<li><code class=\"language-text\">await</code>ëŠ” Promiseê°€ ì²˜ë¦¬ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼</li>\n<li><code class=\"language-text\">try...catch</code>ë¡œ ì—ëŸ¬ ì²˜ë¦¬ ê°€ëŠ¥</li>\n</ul>\n<h3>ì‹¤ë¬´ ì˜ˆì œ</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getPosts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> urls <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"/api/post/1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/api/post/2\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> results <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> url <span class=\"token keyword\">of</span> urls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    results<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> results<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">getPosts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">posts</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>posts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>âš¡ <strong>Tip</strong>: ë…ë¦½ì ì¸ ìš”ì²­ì€ <code class=\"language-text\">Promise.all</code>ì„ í™œìš©í•˜ë©´ ì„±ëŠ¥ í–¥ìƒ</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getPostsParallel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> urls <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"/api/post/1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/api/post/2\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> results <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>urls<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url</span> <span class=\"token operator\">=></span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r</span><span class=\"token operator\">=></span>r<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> results<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<h2>4. í´ë¡œì € (Closure)</h2>\n<h3>ê¸°ë³¸ ê°œë…</h3>\n<p>í´ë¡œì €ëŠ” <strong>í•¨ìˆ˜ê°€ ì„ ì–¸ë  ë‹¹ì‹œì˜ ìŠ¤ì½”í”„(í™˜ê²½)ë¥¼ ê¸°ì–µí•˜ëŠ” í•¨ìˆ˜</strong>ì…ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    count<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> count<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> counter <span class=\"token operator\">=</span> <span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2</span></code></pre></div>\n<h3>í™œìš© ì˜ˆì‹œ</h3>\n<ul>\n<li><strong>ë°ì´í„° ì€ë‹‰</strong>: ì™¸ë¶€ì—ì„œ ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€ëŠ¥í•œ private ë³€ìˆ˜ ìƒì„±</li>\n<li><strong>ìƒíƒœ ìœ ì§€</strong>: í•¨ìˆ˜ í˜¸ì¶œ ê°„ ë°ì´í„° ë³´ì¡´</li>\n<li><strong>ì½œë°±/ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬</strong>: ìƒíƒœë¥¼ ê¸°ì–µí•˜ëŠ” í•¸ë“¤ëŸ¬ ì‘ì„±</li>\n</ul>\n<h3>ì‹¤ë¬´ ì˜ˆì œ</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">createUserManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> users <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">add</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">user</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span> users<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">list</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> users<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> manager <span class=\"token operator\">=</span> <span class=\"token function\">createUserManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmanager<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Alice\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmanager<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Bob\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>manager<span class=\"token punctuation\">.</span><span class=\"token function\">list</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// [\"Alice\", \"Bob\"]</span></code></pre></div>\n<hr>\n<h2>5. ê³ ê¸‰ í™œìš© (ì „ë¬¸ê°€ìš©)</h2>\n<h3>5.1. Promise ê³ ê¸‰ íŒ¨í„´</h3>\n<ul>\n<li><strong>Promise.all</strong>: ëª¨ë“  Promise ì™„ë£Œ ëŒ€ê¸°</li>\n<li><strong>Promise.race</strong>: ê°€ì¥ ë¹ ë¥¸ Promise ê²°ê³¼ ë°˜í™˜</li>\n<li><strong>Promise.allSettled</strong>: ëª¨ë“  ê²°ê³¼(ì„±ê³µ/ì‹¤íŒ¨)ë¥¼ ë°°ì—´ë¡œ ë°˜í™˜</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">Promise<span class=\"token punctuation\">.</span><span class=\"token function\">race</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n  <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/slow\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/fast\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ê°€ì¥ ë¹ ë¥¸ ì‘ë‹µ\"</span><span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>5.2. async/await ìµœì í™”</h3>\n<ul>\n<li>ë³‘ë ¬ ì²˜ë¦¬ ì‹œ <code class=\"language-text\">Promise.all</code> ì ê·¹ í™œìš©</li>\n<li>ë°˜ë³µë¬¸ ì•ˆì—ì„œëŠ” <code class=\"language-text\">for...of</code> + awaitë³´ë‹¤ <strong>map + Promise.all</strong> ì„ í˜¸</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">loadData</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ids</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>ids<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id</span> <span class=\"token operator\">=></span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/api/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r</span><span class=\"token operator\">=></span>r<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>5.3. í´ë¡œì €ì™€ ë©”ëª¨ë¦¬ ê´€ë¦¬</h3>\n<p>í´ë¡œì €ëŠ” <strong>ì°¸ì¡°ë¥¼ ìœ ì§€</strong>í•˜ê¸° ë•Œë¬¸ì— ë©”ëª¨ë¦¬ ëˆ„ìˆ˜(leak)ê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ.<br>\nâ†’ ë¶ˆí•„ìš”í•œ ì°¸ì¡°ëŠ” <code class=\"language-text\">null</code>ë¡œ í•´ì œí•˜ê±°ë‚˜, í´ë¡œì € ì‚¬ìš© ë²”ìœ„ë¥¼ ìµœì†Œí™”í•´ì•¼ í•¨.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">heavy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> bigData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>bigData<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> h <span class=\"token operator\">=</span> <span class=\"token function\">heavy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// bigDataëŠ” í•´ì œë˜ì§€ ì•ŠìŒ â†’ ë©”ëª¨ë¦¬ ì‚¬ìš© ì£¼ì˜</span></code></pre></div>\n<hr>\n<h2>6. ì •ë¦¬</h2>\n<ul>\n<li><strong>Promise</strong>: ë¹„ë™ê¸° ì‘ì—…ì˜ ì„±ê³µ/ì‹¤íŒ¨ë¥¼ ë‹¤ë£¨ëŠ” ê°ì²´</li>\n<li><strong>async/await</strong>: Promiseë¥¼ ë” ì½ê¸° ì‰½ê²Œ ì‘ì„±í•˜ëŠ” ë¬¸ë²•</li>\n<li><strong>í´ë¡œì €</strong>: ìŠ¤ì½”í”„ë¥¼ ê¸°ì–µí•˜ëŠ” í•¨ìˆ˜, ìƒíƒœ ìœ ì§€ ë° ë°ì´í„° ì€ë‹‰ ê°€ëŠ¥</li>\n</ul>\n<p>ğŸ‘‰ ì´ˆê¸‰ ë‹¨ê³„ì—ì„œëŠ” ì½œë°± â†’ Promise â†’ async/await ìˆœìœ¼ë¡œ ì´í•´<br>\nğŸ‘‰ ì‹¬í™” ë‹¨ê³„ì—ì„œëŠ” ë³‘ë ¬ ì²˜ë¦¬ ìµœì í™”, í´ë¡œì € ë©”ëª¨ë¦¬ ê´€ë¦¬ê¹Œì§€ ê³ ë ¤í•´ì•¼\ní•©ë‹ˆë‹¤.</p>\n<hr>\n<h1>ë§ˆë¬´ë¦¬</h1>\n<p>ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ <strong>ë¹„ë™ê¸° ì²˜ë¦¬</strong>ì™€ <strong>í´ë¡œì €</strong>ëŠ” ë‹¨ìˆœí•œ ë¬¸ë²• ì§€ì‹ì´\nì•„ë‹ˆë¼,<br>\nì‹¤ë¬´ì—ì„œ ì„±ëŠ¥, ìœ ì§€ë³´ìˆ˜, ë³´ì•ˆê¹Œì§€ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” í•µì‹¬ ê°œë…ì…ë‹ˆë‹¤.<br>\nì´ ë‘ ê°€ì§€ë¥¼ ì œëŒ€ë¡œ ì´í•´í•˜ë©´ <strong>ì•ˆì •ì ì´ê³  íš¨ìœ¨ì ì¸ ì½”ë“œ</strong>ë¥¼ ì‘ì„±í•  ìˆ˜\nìˆìŠµë‹ˆë‹¤.</p>","frontmatter":{"title":"ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¹„ë™ê¸° ì²˜ë¦¬ì™€ í´ë¡œì € ì™„ì „ ì •ë³µ","summary":"ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‘ë²ˆì§¸ ì´ì•¼ê¸°","date":"2025.09.11.","categories":["Web"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEjUlEQVR42kWU+09bZRjH+4P/gJeocWqMlxijybIQx2JEzfxl2TINEhe5CZbRMhkbUwZMroEN5F4odJQNHMJgQJH1Ar3QctpzTtvTnnN6oVdKKZTeoECBjULldnwriSbvD+/t81y+z/O+NNK3dzJw7y6xvIfMbclMK4rZsNQQ5Gu9AmxJpPdJjSGpMQg7N8AFcO0/hEYu7xFg5t+zhg9cWxQPdt/6fayya6r6vqS+V17OFhY1jVdxpopbJvpExvltyhw6+B8GpDHwN7DHGdeD0TmGtQzAjf3QAz7ZMaKp7BK3DaHNA3DLIAJ22KPY4LTdHNo3+GNEHF7e1bi3Z6xrNVxpLVfGHtE29iurOGLuBFHXq6jommoeQGp7puv7FE0DqhqujDWs1rifAQSANNS1Xc2ZLGriNT5SNPyhaOibrmQLQZClbXzWENo6iPTwSe4EDmyBXEAid1j8Xxt5dQ/lmoVnNNwbRd17U+ZtARERGTb5RESIr07iPiCb0rYuM4XklvCE2vOnxCIm/NPmVYkhCE7FhiDIlIYt7iHqcTvRacG5VoJrwzsRbNK0QumXdjjj+Ajkcm1SKTe5ryTknfmmsounm4tQxsA+kA0oT9N6ojOCO2PclKAmTcVLf9L9nUlVhfupKdL/RuK1lAKOJUzdfyScmRgtuFn30mkmPBcBaumXonFY7Y4SyrtOiE4t5G1b8paQbCvWrHQ8Rx3h1FtcoJ9tg5oUycJOBFOI6IWtSsfmSXXiMOyKzuM1EWN2AGPYFAxBf6aTaBEb1oYmFE8xL+zYAC0Ay2Uhw3TEAcO4HSwJb9xtHEbm456fm7OXtUyNkCkbztKrWnufqJobOnXOVWPwQOc7fgpZlUK+HVWIMLfWe0j690Gd4jDujYm1ZhEESdWIUg+jOCTU2iBYrxP/BVtD6EJMqxk2qyrMUL9H2+tGbxg1LMi8QPgP/q2ze5dE2tZMNxa0tx1IESEpIJA22L7u1stkZECL9mwRVyjXT1um7F1r1rH76qH9BwtSDs/vAtloKld0Dqs8cqezW+nXC+mPu9M8RLnUtBGwabSQyG9gBi0MKsikvIxjFyNqZSxp8nYd2RBpIgPHccGc2F0vSi8uzevuuHa9MEsnrwbRYiqI1dJ9+7eK+tqs3s5csyyX8uTG7AwHxPCpc2QqCRmk4rBDXfag7fvejsyxhxnN9zIk4yW65UMxbHznLIP2Pv3VTwtpr9FTc65SXvqRM1UvBtlJEcJBBA5ouqUYoleZyWGjgWe1CFjs6o+/Zn6Z0aCZ30rJZ9PeTP7oQsULH9Df+5wpH++cnWm3Kkcj5mmUsAPN4r2dUTrwWXr7Fz+yE5Lr3koqvsxs//D8L+Al8tCFCzmsbzPzL6fREy/llpRVWWdaFvEhWGNCneukL0bTLe4kpda//VXxu+dLXk7IO3Xu51Pn8k9fKhPolp0bx6T/WCWuWcOzNk25YZK+gV8RC+pUniNTMBZ/GKDW8tkw+GskxpDEuCLCfY/lTvns6uzKAebZmV05TEq99/qZzMSLjLMXGS9+kp6cz7GFj056+x/vmE4mFyRrigAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/static/a2f0854f144f881dd78a3d707c426548/34104/jsRule2.png","srcSet":"/static/a2f0854f144f881dd78a3d707c426548/5ce94/jsRule2.png 256w,\n/static/a2f0854f144f881dd78a3d707c426548/8a20a/jsRule2.png 512w,\n/static/a2f0854f144f881dd78a3d707c426548/34104/jsRule2.png 1024w","sizes":"(min-width: 1024px) 1024px, 100vw"},"sources":[{"srcSet":"/static/a2f0854f144f881dd78a3d707c426548/99d55/jsRule2.webp 256w,\n/static/a2f0854f144f881dd78a3d707c426548/3591c/jsRule2.webp 512w,\n/static/a2f0854f144f881dd78a3d707c426548/e306d/jsRule2.webp 1024w","type":"image/webp","sizes":"(min-width: 1024px) 1024px, 100vw"}]},"width":1024,"height":1024}},"publicURL":"/static/a2f0854f144f881dd78a3d707c426548/jsRule2.png"}}}}]}},"pageContext":{"slug":"/javascript_async_closure/"}},"staticQueryHashes":[],"slicesMap":{}}