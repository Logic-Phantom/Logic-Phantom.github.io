{"componentChunkName":"component---src-templates-post-template-tsx","path":"/nextjs-isr-edge-caching/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>ğŸ“Œ Next.js + Vercelì—ì„œ ISR ì—…ë°ì´íŠ¸ ì§€ì—° ë¬¸ì œ í•´ê²°ê¸°</h1>\n<p>ìµœê·¼ì— <strong>ëª¨ë°”ì¼ ì²­ì²©ì¥</strong>ì„ Vercelì— ë°°í¬í•˜ëŠ” í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. ë””ìì¸ì´ ìì£¼ ë°”ë€Œê³ , ì—…ë°ì´íŠ¸ëœ ë‚´ìš©ì´ ì¦‰ì‹œ ë°˜ì˜ë˜ì–´ì•¼ í•˜ëŠ” í™˜ê²½ì—ì„œ **ISR(Incremental Static Regeneration)**ë¥¼ ì„ íƒí–ˆëŠ”ë°, ì˜ˆìƒ ì™¸ì˜ ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.</p>\n<h2>âš™ï¸ í”„ë¡œì íŠ¸ êµ¬ì„±</h2>\n<ul>\n<li><strong>í”„ë ˆì„ì›Œí¬</strong>: Next.js 14</li>\n<li><strong>ë°°í¬ í”Œë«í¼</strong>: Vercel</li>\n<li><strong>ë Œë”ë§ ì „ëµ</strong>: <code class=\"language-text\">getStaticProps + revalidate</code></li>\n<li><strong>ì£¼ìš” í˜ì´ì§€</strong>: <code class=\"language-text\">/invitation/[id]</code>, <code class=\"language-text\">/event/[slug]</code> ë“± ë™ì  ê²½ë¡œ ë‹¤ìˆ˜</li>\n<li><strong>ìš”êµ¬ì‚¬í•­</strong>: í˜ì´ì§€ ë°ì´í„° ì—…ë°ì´íŠ¸ ì‹œ, ìµœì†Œí•œ ìˆ˜ ë¶„ ì´ë‚´ë¡œ ë°˜ì˜ í•„ìš”</li>\n</ul>\n<h2>â—ï¸ë¬¸ì œ ìƒí™©: ISR ë°˜ì˜ ì§€ì—°</h2>\n<p>ì´ˆê¸°ì—ëŠ” <code class=\"language-text\">getStaticProps</code>ì— <code class=\"language-text\">revalidate: 60</code>ì„ ì„¤ì •í•´, ìµœëŒ€ 1ë¶„ ì£¼ê¸°ë¡œ ì½˜í…ì¸ ë¥¼ ê°±ì‹ í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getStaticProps</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    revalidate<span class=\"token operator\">:</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ê·¸ëŸ°ë° ë¬¸ì œëŠ” <strong>ë°°í¬ ì§í›„, ë˜ëŠ” ë°ì´í„°ê°€ ë³€ê²½ëœ ì§í›„ì—ë„ ë°˜ì˜ì´ ìˆ˜ ë¶„ ì´ìƒ ì§€ì—°</strong>ëœë‹¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. íŠ¹íˆ ëª¨ë°”ì¼ì—ì„œ ìºì‹œëœ í˜ì´ì§€ê°€ ìœ ì§€ë˜ì–´ <strong>ì´ì „ ì •ë³´ê°€ ê³„ì† ë…¸ì¶œë˜ëŠ” í˜„ìƒ</strong>ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>\n<h2>ğŸ” ì›ì¸ ë¶„ì„</h2>\n<ol>\n<li><strong>ISRì€ ë°±ê·¸ë¼ìš´ë“œì—ì„œ regenerate</strong> í•˜ë¯€ë¡œ ì²« ë²ˆì§¸ ì‚¬ìš©ìëŠ” ì—¬ì „íˆ êµ¬ë²„ì „ì„ ë³¼ ìˆ˜ ìˆìŒ</li>\n<li><strong>Vercel CDN ìºì‹œ</strong>ê°€ Edgeì—ì„œ ìœ ì§€ë˜ë©°, ì‹¤ì œ regenerateëœ ë²„ì „ì´ ë°˜ì˜ë˜ì§€ ì•ŠìŒ</li>\n<li>íŠ¹íˆ <strong>ë™ì  ê²½ë¡œ</strong>ì—ì„œëŠ” ìºì‹œ ë¬´íš¨í™” íƒ€ì´ë°ì´ ì˜ˆì¸¡í•˜ê¸° ì–´ë ¤ì›€</li>\n</ol>\n<h2>ğŸ’¡ í•´ê²° ë°©ì•ˆ: Edge Middleware + Cache-Control</h2>\n<h3>âœ… ë°©ë²• 1. <code class=\"language-text\">Cache-Control</code> ì§ì ‘ ì œì–´</h3>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getServerSideProps</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> res <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'Cache-Control'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'public, max-age=0, s-maxage=60, stale-while-revalidate=30'</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> props<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ë¬¸ì œëŠ” <strong>ISRì´ ì•„ë‹Œ SSR</strong>ì„ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ ë˜ì–´, <strong>ì •ì  í˜ì´ì§€ì˜ ì¥ì ì„ ìƒëŠ”ë‹¤ëŠ” ì </strong>ì´ì—ˆìŠµë‹ˆë‹¤.</p>\n<hr>\n<h3>âœ… ë°©ë²• 2. Edge Middlewareì—ì„œ ìºì‹œ ìš°íšŒ</h3>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// middleware.ts</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NextResponse <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next/server'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">middleware</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> NextResponse<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// íŠ¹ì • ê²½ë¡œì— ëŒ€í•´ ìºì‹œ ë¬´íš¨í™” í—¤ë” ì ìš©</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>nextUrl<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/invitation'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    res<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Cache-Control'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'no-cache, no-store'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë¥¼ í†µí•´ <strong>CDNì˜ ìºì‹œë¥¼ ê°•ì œë¡œ ë¬´íš¨í™”í•˜ê±°ë‚˜, ê²½ë¡œ ë‹¨ìœ„ë¡œ ë” ì •ë°€í•˜ê²Œ ìºì‹œ ì •ì±…ì„ ì„¤ì •</strong>í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>\n<hr>\n<h2>âš–ï¸ ì ìš© í›„ ë³€í™”ì™€ ëŠë‚€ ì </h2>\n<table>\n<thead>\n<tr>\n<th>í•­ëª©</th>\n<th>ê°œì„  ì „</th>\n<th>ê°œì„  í›„</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>ë°ì´í„° ë³€ê²½ ë°˜ì˜ ì†ë„</td>\n<td>ìµœëŒ€ ìˆ˜ ë¶„</td>\n<td>ìˆ˜ ì´ˆ ~ 1ë¶„ ì´ë‚´</td>\n</tr>\n<tr>\n<td>ëª¨ë°”ì¼ ìºì‹œ ë¬¸ì œ</td>\n<td>ìì£¼ ë°œìƒ</td>\n<td>ê±°ì˜ ì—†ìŒ</td>\n</tr>\n<tr>\n<td>ì´ˆê¸° í˜ì´ì§€ ë¡œë”© ì†ë„</td>\n<td>ë¹ ë¦„</td>\n<td>ì•½ê°„ ëŠë¦¼ (SSR fallback ì‹œ)</td>\n</tr>\n</tbody>\n</table>\n<h3>ğŸ‘ ì¥ì </h3>\n<ul>\n<li>ìºì‹œ ì •ì±…ì„ <strong>ì„¸ë¶„í™”í•˜ì—¬ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ìƒíƒœë¡œ ì œì–´</strong> ê°€ëŠ¥</li>\n<li>Edge Functionì„ ì´ìš©í•˜ë©´ <strong>ì‚¬ìš©ì ìœ„ì¹˜ ê¸°ë°˜ ëŒ€ì‘ì´ë‚˜ ì¡°ê±´ë¶€ ìºì‹±</strong>ë„ ê°€ëŠ¥</li>\n</ul>\n<h3>ğŸ‘ ë‹¨ì </h3>\n<ul>\n<li>êµ¬ì„± ë³µì¡ë„ ìƒìŠ¹</li>\n<li>ISRì˜ ì •ì  í¼í¬ë¨¼ìŠ¤ë¥¼ ë¶€ë¶„ í¬ê¸°í•˜ëŠ” êµ¬ì¡°</li>\n<li>Edge í•¨ìˆ˜ í˜¸ì¶œì€ <strong>ìš”ê¸ˆì œì™€ í˜¸ì¶œ ìˆ˜</strong>ì— ë¯¼ê°</li>\n</ul>\n<hr>\n<h2>ğŸ§© ê²°ë¡ </h2>\n<blockquote>\n<p>Next.jsì˜ ISRì€ ë¶„ëª… ê°•ë ¥í•˜ì§€ë§Œ, <strong>ì¦‰ì‹œì„± ë˜ëŠ” ì‹¤ì‹œê°„ ë°˜ì˜ì´ ì¤‘ìš”í•œ ì„œë¹„ìŠ¤</strong>ì—ëŠ” ë‹¨ë…ìœ¼ë¡œ ì“°ê¸°ì—” ë¶€ì¡±í•œ ì ì´ ìˆìŠµë‹ˆë‹¤.</p>\n</blockquote>\n<p>ì‹¤ì‹œê°„ ë°˜ì˜ì´ í•„ìš”í•œ ê²½ìš°ì—” <code class=\"language-text\">ISR + Edge Function</code>, ë˜ëŠ” <code class=\"language-text\">SSR + ìºì‹œ ì •ì±… ì¡°ì ˆ</code>ì´ í˜„ì‹¤ì ì¸ ì„ íƒì´ì—ˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p><strong>ì •ì  ë¹Œë“œì˜ í¼í¬ë¨¼ìŠ¤ë¥¼ ì›í•˜ë©´ì„œë„, ì‹¤ì‹œê°„ì„±ë„ ì¡ê³  ì‹¶ë‹¤ë©´ â€œìºì‹œ ì „ëµâ€ì´ í•µì‹¬</strong>ì…ë‹ˆë‹¤.</p>\n</blockquote>\n<hr>\n<h2>ğŸ“ ì°¸ê³  ìë£Œ</h2>\n<ul>\n<li><a href=\"https://nextjs.org/docs/pages/building-your-application/data-fetching/incremental-static-regeneration\" target=\"_blank\" rel=\"nofollow\">Next.js ISR ê³µì‹ ë¬¸ì„œ</a></li>\n<li><a href=\"https://vercel.com/docs/middleware\" target=\"_blank\" rel=\"nofollow\">Vercel Edge Middleware ë¬¸ì„œ</a></li>\n</ul>","frontmatter":{"title":"Next.js + Vercelì—ì„œ ISR ì—…ë°ì´íŠ¸ ì§€ì—° ë¬¸ì œ í•´ê²°ê¸°","summary":"ISRì˜ ìºì‹± êµ¬ì¡°ì™€ ì—…ë°ì´íŠ¸ ë°˜ì˜ ë”œë ˆì´ ë¬¸ì œ, ê·¸ë¦¬ê³  Edge í•¨ìˆ˜ì™€ ìºì‹± ì „ëµìœ¼ë¡œ ê°œì„ í•œ ê³¼ì •","date":"2025.06.24.","categories":["Next.js","Vercel"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEIElEQVR42mVT61MTVxTP/9DPrZ2p35xaO6Mz9lMd6wfqVMV2itNaK6ClU20FjFYQDEUoLQEfw2CFNCwGgZDwVnkkJoRHks1myW4I7Hs3yYYQaIVRSDQQktzeqFg6nblz595z7u+ec37ndxQSD14tkQMBEch+IHGZq3/L/soVlNJhOeXn09I2u+KNW/anY2uJ57H1xfCmwKYENrnlSocCwO0Kl5ao4Zv/g9MCC5YiCRx3kwS59uy5xRLWG3zhYAbJM8mlMCi8oFIoFPd15sUwePNvBuwXMtlCa3QtvplIRlcBQ23SVALaRS4VlgHuihw4kLVr157Tp3+EpQXFrcjwBUcnHw2JDscTlo5Lwgun428vserGVkQ2yTOJqamI1Sr7yKiPjBHTqzNkzOlY5pgkBCqCEvB5X1xR9RSVdCjLjFVqa+3t8Z5+7gelvqubMfYJWh2pLO9XlvX+dnPsTrPjYmnn7zdNDJUICC8j80xqhlyz25etFhl3cCQmPRxEbWZcZhdWQsvi3IIHFe02iiJkh33JOraIoSsit63moJgO+cF68BHw16SkOiCrJwZqBnSVjepy2vYrmK9LBW4AsTruH4AsytJ/2YZgaIqL7UAqSYkVIKQaQC7db1SqK5VzpivwmhJU0BUX2wJCOiBuA8N+EJ5V1PmUwCKU2zOD4nOYR5zxcYSXwfEQzdDTXsbjhS4Sj+B4FNIGk33NNktvahBU0+JsbLZrEELTOl17y9ZppPVGukptMfbydzTuoZH5u1r3HxqHthVFdG4YHIZ8mTaXZuc2RC7JURsSlxC5Tdghnk5w9AY9G4dN4pn1cCA9NxNjqfV2PUl6YgFhmzznAyDkz3AGK4cLHjIWKbNDOub9QN9NFZUPXasZaeuyNbXYpvE1+EwBZbwgg44u7/eXe5W/PC5WjSgrTBeujpwvGSq6ZiqtGvUSUZja+ZIHRRX23KIHlgl60jmLuZ5CUSp4NgWl26Sd2v9Z/fHverLzDVnf6M5c6lNeHzl+puOjI/Umc/CvMKiuH8u/+PBscc+kk5m081BXsGyFANUbBCaTsP9w1RcFxqO57TkF9/KL28+VGs6VGt8/WNlp8MHfWXodCs7Q4+vt9w4PiwKbGS8FJA0mgGPLHx+tPpbXcfiU7lieVlU3+lN537eFHXuzausarLBykQcYKjknuklsyDk56EKXMjVDMKSOpeKf594+mNN0JLft0Im72XnNOQXIJ1827Pu0tvCqIboMnkQAMS1hdj1FDISEURe6CGfrtUjg6eTZ+rd2Zr+75+Q7u7/a8cGpHR/mvrc3/+3dX+87VFh2Xf+zSl9Zg9jMbcLsYEQcHh8P/RvZjT0zdPv+RKa0rVAG9pZ7TkTnatGhSJtLgzhuNVpvNDzWIPbRUcZq4c1mBs5vUAT/AH2ikZfXjQ1mAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/5b455004afb365cd4e498c7e7489e58e/34104/Next2.png","srcSet":"/static/5b455004afb365cd4e498c7e7489e58e/5ce94/Next2.png 256w,\n/static/5b455004afb365cd4e498c7e7489e58e/8a20a/Next2.png 512w,\n/static/5b455004afb365cd4e498c7e7489e58e/34104/Next2.png 1024w","sizes":"(min-width: 1024px) 1024px, 100vw"},"sources":[{"srcSet":"/static/5b455004afb365cd4e498c7e7489e58e/99d55/Next2.webp 256w,\n/static/5b455004afb365cd4e498c7e7489e58e/3591c/Next2.webp 512w,\n/static/5b455004afb365cd4e498c7e7489e58e/e306d/Next2.webp 1024w","type":"image/webp","sizes":"(min-width: 1024px) 1024px, 100vw"}]},"width":1024,"height":1024}},"publicURL":"/static/5b455004afb365cd4e498c7e7489e58e/Next2.png"}}}}]}},"pageContext":{"slug":"/nextjs-isr-edge-caching/"}},"staticQueryHashes":[],"slicesMap":{}}