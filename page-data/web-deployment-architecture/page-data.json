{"componentChunkName":"component---src-templates-post-template-tsx","path":"/web-deployment-architecture/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h1>웹 서비스 배포 흐름 이해하기 – 웹서버, WAS, DB까지</h1>\n<hr>\n<h2>🚀 처음 서비스를 만들고 나서 생긴 질문</h2>\n<p>처음 웹 서비스를 만들고 완성했을 때, 가장 먼저 든 생각은 “그럼 이걸 어떻게 배포하지?”였다.</p>\n<p>프론트엔드는 HTML, CSS, JS로 마무리했고, 백엔드는 Java 기반의 Servlet으로 개발. 데이터는 MySQL에 잘 저장되고 있었지만, “이제 이걸 사용자들이 실제로 접속할 수 있게 하려면 어떻게 해야 할까?”라는 질문 앞에서 멈췄다.</p>\n<hr>\n<h2>🌐 웹서버와 WAS, 뭐가 다른 거지?</h2>\n<p>많은 사람들이 처음엔 <strong>웹서버 = WAS</strong>라고 생각한다. 하지만 실제로는 다르다.</p>\n<ul>\n<li><strong>웹서버(Web Server)</strong>: 정적 파일(HTML, 이미지, JS 등)을 서빙</li>\n<li><strong>WAS(Web Application Server)</strong>: 동적 콘텐츠(로그인, DB 처리 등)를 처리</li>\n</ul>\n<p>이 둘의 협업이 중요한 이유는 성능 때문이다.<br>\n예를 들어 Apache(Nginx)와 Tomcat을 조합하면, 정적 리소스는 웹서버에서 빠르게 처리하고, 동적 요청만 WAS가 부담하게 할 수 있다.</p>\n<blockquote>\n<p>✅ 구조 요약:<br>\n클라이언트 → 웹서버(Apache/Nginx) → WAS(Tomcat) → DB</p>\n</blockquote>\n<hr>\n<h2>🏗 배포 구조 그리기 시작</h2>\n<p>서비스를 운영하기 위해 구성한 기본 아키텍처는 다음과 같다:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">     [사용자]\n         ↓\n   [웹 브라우저]\n         ↓\n   [웹 서버 (Nginx)]\n         ↓\n   [WAS (Tomcat)]\n         ↓\n   [DB (MySQL)]</code></pre></div>\n<p>여기서 각 역할은 다음과 같다:</p>\n<ul>\n<li><strong>Nginx</strong>: 정적 파일 서빙, HTTPS 처리, 로드밸런싱</li>\n<li><strong>Tomcat</strong>: Java Servlet 처리, 비즈니스 로직 수행</li>\n<li><strong>MySQL</strong>: 데이터 저장</li>\n</ul>\n<hr>\n<h2>⚙️ 실제 배포 흐름</h2>\n<h3>1. 소스코드 관리</h3>\n<ul>\n<li>GitHub에 백엔드와 프론트엔드를 각각 관리</li>\n<li><code class=\"language-text\">main</code> 브랜치에 머지되면 배포 자동화 트리거 발생</li>\n</ul>\n<h3>2. 빌드 &#x26; 배포 자동화</h3>\n<h4>백엔드</h4>\n<ul>\n<li><code class=\"language-text\">Gradle/Maven</code>으로 <code class=\"language-text\">.war</code> 파일 빌드</li>\n<li>빌드 후 WAS 서버에 자동 업로드 (ex: <code class=\"language-text\">scp</code>, <code class=\"language-text\">FTP</code>, GitHub Actions)</li>\n</ul>\n<h4>프론트엔드</h4>\n<ul>\n<li>정적 HTML/CSS/JS 파일은 <code class=\"language-text\">/var/www/html</code> 경로에 업로드</li>\n<li>CDN을 사용하면 Cloudflare 등을 통해 서빙 속도 최적화</li>\n</ul>\n<hr>\n<h2>🛡 보안 설정</h2>\n<h3>🔒 HTTPS 적용</h3>\n<ul>\n<li>Nginx에서 Let’s Encrypt 인증서 적용</li>\n<li><code class=\"language-text\">443</code> 포트를 통해 SSL 트래픽 수신</li>\n</ul>\n<h3>🔐 DB 보안</h3>\n<ul>\n<li>외부 접속 차단 (<code class=\"language-text\">bind-address=127.0.0.1</code>)</li>\n<li>DB 접속은 Tomcat에서만 가능하도록 설정</li>\n</ul>\n<hr>\n<h2>🔁 무중단 배포 전략</h2>\n<p>처음에는 수동으로 배포할 때마다 Tomcat을 재시작했지만, 서비스가 커지면서 무중단 배포가 필요해졌다.</p>\n<p>도입한 전략:</p>\n<ul>\n<li><strong>WAS 이중화</strong>: Tomcat 2대를 띄우고, Nginx가 로드밸런싱</li>\n<li><strong>Blue-Green 배포</strong>: 새로운 버전은 별도 경로에 배포 후 스위칭</li>\n<li><strong>Health Check</strong>: <code class=\"language-text\">/health</code> 엔드포인트로 상태 체크</li>\n</ul>\n<hr>\n<h2>🧰 운영 중 생긴 일들</h2>\n<ul>\n<li>로그가 너무 커져서 <code class=\"language-text\">/var/log</code>가 가득 찼던 일</li>\n<li><code class=\"language-text\">Too many connections</code> 오류로 DB 튜닝</li>\n<li>서브넷 문제로 웹서버 ↔ DB 연결이 막혔던 일</li>\n</ul>\n<p>운영을 하면 할수록 단순히 “배포”만이 아니라 <strong>모니터링, 로그관리, 트래픽 대응</strong>이 중요하다는 걸 알게 됐다.</p>\n<hr>\n<h2>✅ 마무리하며</h2>\n<p>웹 서비스의 배포는 단순히 “코드 올리기”가 아니다.<br>\n웹서버, WAS, DB 간의 연결과 역할 분담, 그리고 보안과 무중단 운영까지 고려해야 진짜 운영환경을 만든다.</p>\n<blockquote>\n<p>내가 배운 가장 중요한 점은:<br>\n**“서비스는 코드로 끝나는 게 아니라, 배포로 완성된다”**는 것이다.</p>\n</blockquote>\n<hr>\n<h2>📎 참고 아키텍처 도식</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">                 +-------------+\n                 |   CLIENT    |\n                 +------+------+\n                        |\n                HTTPS / HTTP 요청\n                        ↓\n             +----------+-----------+\n             |      NGINX (웹서버)   |\n             +----+-------------+---+\n                  |             |\n         정적 파일 응답    WAS로 Proxy 전달\n                  |             ↓\n             +----+-------------+----+\n             |     TOMCAT (WAS)       |\n             +-----------+------------+\n                         |\n                JDBC / JPA / ORM 등\n                         ↓\n                 +-------+--------+\n                 |   MySQL / RDS  |\n                 +----------------+</code></pre></div>","frontmatter":{"title":"웹 서비스 배포 흐름 이해하기","summary":"웹서버, WAS, DB까지","date":"2025.07.02.","categories":["CI/CD"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAADHklEQVR42hWS609SARjG+Tf60ue2tr70B/ShtVrrZrpVW2qZpFvNrVKgLKdZIArEVTIuIqIcuaMgR65HOedwQLzQQRQFSuEgimnNQkrkdPz07tmzd+/v2fPSyOPtZRwbttvMwaAJi5jQsBkNAzAGhkNkKVstZcnKTmYjmkpGDnaTuW9Lv4rr5cNN8t825dLI4/y4w94mUTO0NpYpwDJ6WQYv0xToBSYrfwmyTJyUssjsFKBXKpViqXRAoRClEmj1KFc9XS7nlhb8rR2Mh/Sn9XT6/aam+02PG1qe0tvaGL3vT8o7cfiLgXcNHKozfbql/HhjpP+OfuAqDivJyg/q8rbHYztz8VJNY8ODlubb9fV3HzXfo7fWNDSdv3zj117KaVf1dD0RDTwfFLZDFrb58zOjrBVziso/MzSyUnBMG5tfdrA6xS+Y0lcssUAoEIi4Ehmf+aEXRd1DujG11dmptopGjWrJW1Raq3p7E+RcySdmaCT5w2wHXnP6NYNT4j7LoGAS8rvhgI3ILCrGdS7QgmIeT27PRxQxDGTz+jZWkAgKBqGp/OYyjTzKzkJO1chn/ygT0nW4hPdcBolWr/F5bVyZBHTbQqgbTBFyLB0OzXAFA8kYjAScsN+xm8Vpx4ffTQaN3aqLhP0rMaRLKD5X2/qGw+HJpWwhfz7i0wGa9TjiDbjNlnGujKexy8UjfPEoP7u5SKv83gpCjtnAZBgFUyuwzmJ81PkRQUAsAi1GA+nk/JhhNBqaoYJMAFom7127itHYTafzn61uIFRV+T8HGUCvUijEPo8Fj3q1SmEUc19o6WN8AYjMgkY/4vdYkTmX0aqnsOOLUAiehiHHztZXKnOuWs6v4jClc+moacpc/4bt89hqWD1cjaa0v1HL6LvyvKeW2X/9JWdILY8grkQsuBD2FLZipz3nvy/Dsw7DxDCRjmqdzrN1L9ZWo9ahFhfwoXJU2M0nJky6bnavXCGjiDLJyBoOJ+NI6SBNYRPU2N9O7BcSh8VkIRfH8VA2vQBDk3N+ezGHk2SxWEisxuaW5n35rRhJ7lWPC9TDk2XiP/82IJbH/Mk4AAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/71a6a0ae20616d60ccf3ee5e19074125/4d776/CI.png","srcSet":"/static/71a6a0ae20616d60ccf3ee5e19074125/4a410/CI.png 384w,\n/static/71a6a0ae20616d60ccf3ee5e19074125/f5189/CI.png 768w,\n/static/71a6a0ae20616d60ccf3ee5e19074125/4d776/CI.png 1536w","sizes":"(min-width: 1536px) 1536px, 100vw"},"sources":[{"srcSet":"/static/71a6a0ae20616d60ccf3ee5e19074125/b642b/CI.webp 384w,\n/static/71a6a0ae20616d60ccf3ee5e19074125/c9564/CI.webp 768w,\n/static/71a6a0ae20616d60ccf3ee5e19074125/18b4b/CI.webp 1536w","type":"image/webp","sizes":"(min-width: 1536px) 1536px, 100vw"}]},"width":1536,"height":1024}},"publicURL":"/static/71a6a0ae20616d60ccf3ee5e19074125/CI.png"}}}}]}},"pageContext":{"slug":"/web-deployment-architecture/"}},"staticQueryHashes":[],"slicesMap":{}}